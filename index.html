<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChicCart - Modern E-commerce</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
        .hero-bg {
            background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://placehold.co/1600x900/E2E8F0/A0AEC0?text=Stylish+Products');
            background-size: cover;
            background-position: center;
        }
        .carousel-container { scrollbar-width: none; -ms-overflow-style: none; }
        .carousel-container::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-slate-50 text-gray-800">

    <header id="header" class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-gray-800 lg:text-3xl">
                ChicCart
            </a>
            
            <div class="lg:hidden">
                <button id="mobile-menu-button" class="text-gray-600 hover:text-gray-800 focus:outline-none">
                    <i class="fas fa-bars fa-lg"></i>
                </button>
            </div>

            <div class="hidden lg:flex items-center space-x-6 text-lg">
                <a href="#home" class="text-gray-600 hover:text-indigo-600 transition duration-300">Home</a>
                <a href="#featured" class="text-gray-600 hover:text-indigo-600 transition duration-300">Featured</a>
                <a href="#products" class="text-gray-600 hover:text-indigo-600 transition duration-300">Products</a>
                <a href="#contact" class="text-gray-600 hover:text-indigo-600 transition duration-300">Contact</a>
            </div>

            <div class="hidden lg:flex items-center space-x-5">
                <a href="#" class="text-gray-600 hover:text-indigo-600"><i class="fas fa-search"></i></a>
                <a href="cart.html" class="text-gray-600 hover:text-indigo-600 relative">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-indigo-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
                </a>
                <a href="#" class="text-gray-600 hover:text-indigo-600"><i class="fas fa-user"></i></a>
            </div>
        </nav>

        <div id="mobile-menu" class="hidden lg:hidden px-6 pt-2 pb-4">
            <a href="#home" class="block py-2 text-gray-600 hover:text-indigo-600">Home</a>
            <a href="#featured" class="block py-2 text-gray-600 hover:text-indigo-600">Featured</a>
            <a href="#products" class="block py-2 text-gray-600 hover:text-indigo-600">Products</a>
            <a href="#contact" class="block py-2 text-gray-600 hover:text-indigo-600">Contact</a>
            <div class="border-t border-gray-200 mt-4 pt-4 flex items-center space-x-5">
                <a href="#" class="text-gray-600 hover:text-indigo-600"><i class="fas fa-search"></i></a>
                <a href="cart.html" class="text-gray-600 hover:text-indigo-600 relative">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count-mobile" class="absolute -top-2 -right-2 bg-indigo-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
                </a>
                <a href="#" class="text-gray-600 hover:text-indigo-600"><i class="fas fa-user"></i></a>
            </div>
        </div>
    </header>

    <main>
        <section id="home" class="hero-bg h-[60vh] lg:h-[85vh] flex items-center">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl lg:text-6xl font-bold text-white mb-4 leading-tight">New Season Arrivals</h1>
                <p class="text-lg lg:text-xl text-gray-200 mb-8">Check out all the new trends</p>
                <a href="#products" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105">Shop Now</a>
            </div>
        </section>

        <section id="featured" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-10">Featured Categories</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="relative rounded-lg overflow-hidden group transform hover:-translate-y-2 transition duration-500"><img src="https://placehold.co/400x500/A3BFFA/FFFFFF?text=Apparel" alt="Apparel" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center"><h3 class="text-white text-2xl font-bold">Apparel</h3></div></div>
                    <div class="relative rounded-lg overflow-hidden group transform hover:-translate-y-2 transition duration-500"><img src="https://placehold.co/400x500/FBBF24/FFFFFF?text=Accessories" alt="Accessories" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center"><h3 class="text-white text-2xl font-bold">Accessories</h3></div></div>
                    <div class="relative rounded-lg overflow-hidden group transform hover:-translate-y-2 transition duration-500"><img src="https://placehold.co/400x500/34D399/FFFFFF?text=Footwear" alt="Footwear" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center"><h3 class="text-white text-2xl font-bold">Footwear</h3></div></div>
                    <div class="relative rounded-lg overflow-hidden group transform hover:-translate-y-2 transition duration-500"><img src="https://placehold.co/400x500/F87171/FFFFFF?text=Gadgets" alt="Gadgets" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center"><h3 class="text-white text-2xl font-bold">Gadgets</h3></div></div>
                </div>
            </div>
        </section>

        <section id="products" class="py-16">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-10">Our Products</h2>
                <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8"></div>
            </div>
        </section>

        <section class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-10">Best Sellers</h2>
                <div class="relative">
                    <div id="carousel" class="carousel-container flex overflow-x-auto space-x-8 pb-4">
                        <div class="flex-none w-80 bg-white rounded-lg shadow-lg overflow-hidden"><img src="https://placehold.co/400x400/FEF3C7/FBBF24?text=Seller+1" class="w-full h-64 object-cover"><div class="p-4"><h3 class="font-semibold text-lg">Vintage Denim Jacket</h3><p class="text-gray-600">$120.00</p></div></div>
                        <div class="flex-none w-80 bg-white rounded-lg shadow-lg overflow-hidden"><img src="https://placehold.co/400x400/FEF3C7/FBBF24?text=Seller+2" class="w-full h-64 object-cover"><div class="p-4"><h3 class="font-semibold text-lg">Urban Sneakers</h3><p class="text-gray-600">$95.00</p></div></div>
                        <div class="flex-none w-80 bg-white rounded-lg shadow-lg overflow-hidden"><img src="https://placehold.co/400x400/FEF3C7/FBBF24?text=Seller+3" class="w-full h-64 object-cover"><div class="p-4"><h3 class="font-semibold text-lg">Minimalist Wristwatch</h3><p class="text-gray-600">$250.00</p></div></div>
                        <div class="flex-none w-80 bg-white rounded-lg shadow-lg overflow-hidden"><img src="https://placehold.co/400x400/FEF3C7/FBBF24?text=Seller+4" class="w-full h-64 object-cover"><div class="p-4"><h3 class="font-semibold text-lg">Beanie Hat</h3><p class="text-gray-600">$35.00</p></div></div>
                        <div class="flex-none w-80 bg-white rounded-lg shadow-lg overflow-hidden"><img src="https://placehold.co/400x400/FEF3C7/FBBF24?text=Seller+5" class="w-full h-64 object-cover"><div class="p-4"><h3 class="font-semibold text-lg">Crossbody Bag</h3><p class="text-gray-600">$70.00</p></div></div>
                    </div>
                    <button id="prevBtn" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-white bg-opacity-70 rounded-full p-2 shadow-md hover:bg-opacity-100 transition"><i class="fas fa-chevron-left text-gray-700"></i></button>
                    <button id="nextBtn" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-white bg-opacity-70 rounded-full p-2 shadow-md hover:bg-opacity-100 transition"><i class="fas fa-chevron-right text-gray-700"></i></button>
                </div>
            </div>
        </section>

        <section id="contact" class="bg-indigo-700 py-16">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold text-white mb-4">Join Our Newsletter</h2>
                <p class="text-indigo-200 mb-8">Sign up for exclusive offers, original stories, activism awareness, events and more.</p>
                <form class="max-w-md mx-auto"><div class="flex items-center"><input type="email" class="w-full rounded-l-full py-3 px-6 text-gray-700 focus:outline-none" placeholder="Enter your email"><button type="submit" class="bg-yellow-400 text-indigo-900 font-bold py-3 px-8 rounded-r-full hover:bg-yellow-500 transition duration-300">Subscribe</button></div></form>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div><h3 class="font-bold text-xl mb-4">ChicCart</h3><p class="text-gray-400">Your one-stop shop for everything trendy and chic. Discover the latest styles and innovations.</p></div>
                <div><h3 class="font-bold text-lg mb-4">Quick Links</h3><ul><li class="mb-2"><a href="#" class="text-gray-400 hover:text-white">About Us</a></li><li class="mb-2"><a href="#" class="text-gray-400 hover:text-white">FAQ</a></li><li class="mb-2"><a href="#" class="text-gray-400 hover:text-white">Shipping & Returns</a></li><li class="mb-2"><a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a></li></ul></div>
                <div><h3 class="font-bold text-lg mb-4">Contact Us</h3><p class="text-gray-400 mb-2"><i class="fas fa-map-marker-alt mr-2"></i>123 Fashion Ave, New York, USA</p><p class="text-gray-400 mb-2"><i class="fas fa-envelope mr-2"></i>info@chiccart.com</p><p class="text-gray-400"><i class="fas fa-phone mr-2"></i>+1 234 567 890</p></div>
                <div><h3 class="font-bold text-lg mb-4">Follow Us</h3><div class="flex space-x-4"><a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-facebook-f"></i></a><a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-twitter"></i></a><a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-instagram"></i></a><a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-pinterest"></i></a></div></div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center"><p class="text-gray-500">&copy; 2025 ChicCart. All Rights Reserved.</p></div>
        </div>
    </footer>

    <div id="toast" class="fixed bottom-10 right-10 bg-green-500 text-white py-3 px-6 rounded-lg shadow-xl opacity-0 transform translate-y-10 transition-all duration-500">
        <p><i class="fas fa-check-circle mr-2"></i>Item added to cart!</p>
    </div>

    <script src="cart.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

            // Carousel functionality
            const carousel = document.getElementById('carousel');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const scrollAmount = 352;
            nextBtn.addEventListener('click', () => carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' }));
            prevBtn.addEventListener('click', () => carousel.scrollBy({ left: -scrollAmount, behavior: 'smooth' }));
            
            const productGrid = document.getElementById('product-grid');
            const toast = document.getElementById('toast');

            // Handle clicks on dynamically added "Add to Cart" buttons
            productGrid.addEventListener('click', function(event) {
                const button = event.target.closest('.add-to-cart-btn');
                if (button) {
                    event.preventDefault(); 
                    const productId = button.dataset.productId;
                    addToCart(productId);

                    // Show toast notification
                    toast.classList.remove('opacity-0', 'translate-y-10');
                    toast.classList.add('opacity-100', 'translate-y-0');
                    setTimeout(() => {
                        toast.classList.remove('opacity-100', 'translate-y-0');
                        toast.classList.add('opacity-0', 'translate-y-10');
                    }, 3000);
                }
            });

            // Fetches product data from the server and displays it
            async function fetchAndDisplayProducts() {
                const apiUrl = 'https://chiccart-api.onrender.com/api/products';
                try {
                    const response = await fetch(apiUrl);
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    const products = await response.json();
                    productGrid.innerHTML = ''; 
                    products.forEach(product => {
                        const productCardHTML = `
                            <a href="product.html?id=${product.id}" class="block bg-white rounded-lg shadow-lg overflow-hidden group">
                                <div class="relative">
                                    <img src="${product.imageUrl}" alt="${product.name}" class="w-full h-64 object-cover">
                                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition duration-300 flex items-center justify-center space-x-2">
                                       <button class="add-to-cart-btn text-white bg-indigo-600 py-2 px-4 rounded-full opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition duration-300" data-product-id="${product.id}">Add to Cart</button>
                                    </div>
                                </div>
                                <div class="p-6">
                                    <h3 class="font-semibold text-lg mb-2">${product.name}</h3>
                                    <p class="text-gray-700 text-lg font-bold mb-2">$${product.price.toFixed(2)}</p>
                                    <div class="flex items-center text-yellow-500">
                                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                                        <span class="text-gray-600 ml-2">(${product.rating})</span>
                                    </div>
                                </div>
                            </a>
                        `;
                        productGrid.insertAdjacentHTML('beforeend', productCardHTML);
                    });
                } catch (error) {
                    console.error("Could not fetch products:", error);
                    productGrid.innerHTML = '<p class="text-center col-span-4 text-red-500">Failed to load products. Is the server running?</p>';
                }
            }
            fetchAndDisplayProducts();
        });
    </script>
</body>
</html>